## é¢˜ç›®åœ°å€(139. å•è¯æ‹†åˆ†)

https://leetcode-cn.com/problems/word-break/

## é¢˜ç›®æè¿°

```
ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² s å’Œä¸€ä¸ªåŒ…å«éç©ºå•è¯çš„åˆ—è¡¨ wordDictï¼Œåˆ¤å®šÂ s æ˜¯å¦å¯ä»¥è¢«ç©ºæ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚

è¯´æ˜ï¼š

æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚
ç¤ºä¾‹ 1ï¼š

è¾“å…¥: s = "leetcode", wordDict = ["leet", "code"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "leetcode" å¯ä»¥è¢«æ‹†åˆ†æˆ "leet code"ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥: s = "applepenapple", wordDict = ["apple", "pen"]
è¾“å‡º: true
è§£é‡Š: è¿”å› true å› ä¸º "applepenapple" å¯ä»¥è¢«æ‹†åˆ†æˆ "apple pen apple"ã€‚
Â     æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]
è¾“å‡º: false

```

## å‰ç½®çŸ¥è¯†

- [åŠ¨æ€è§„åˆ’](https://github.com/azl397985856/leetcode/blob/master/thinkings/dynamic-programming.md)

## å…¬å¸

- é˜¿é‡Œ
- è…¾è®¯
- ç™¾åº¦
- å­—èŠ‚

## æ€è·¯

è¿™é“é¢˜æ˜¯ç»™å®šä¸€ä¸ªå­—å…¸å’Œä¸€ä¸ªå¥å­ï¼Œåˆ¤æ–­è¯¥å¥å­æ˜¯å¦å¯ä»¥ç”±å­—å…¸é‡Œé¢çš„å•è¯ç»„å‡ºæ¥ï¼Œä¸€ä¸ªå•è¯å¯ä»¥ç”¨å¤šæ¬¡ã€‚

æš´åŠ›çš„æ–¹æ³•æ˜¯æ— è§£çš„ï¼Œå¤æ‚åº¦æå…¶é«˜ã€‚ æˆ‘ä»¬è€ƒè™‘å…¶æ˜¯å¦å¯ä»¥æ‹†åˆ†ä¸ºå°é—®é¢˜æ¥è§£å†³ã€‚
å¯¹äºé—®é¢˜`(s, wordDict)` æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç”¨(s', wordDict) æ¥è§£å†³ã€‚ å…¶ä¸­ s' æ˜¯ s çš„å­åºåˆ—ï¼Œ
å½“ s'å˜æˆå¯»å¸¸(é•¿åº¦ä¸º 0)çš„æ—¶å€™é—®é¢˜å°±è§£å†³äº†ã€‚ æˆ‘ä»¬çŠ¶æ€è½¬ç§»æ–¹ç¨‹å˜æˆäº†è¿™é“é¢˜çš„éš¾ç‚¹ã€‚

æˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªæ•°ç»„ dp, dp[i]ä»£è¡¨ å­—ç¬¦ä¸² s.substring(0, i) èƒ½å¦ç”±å­—å…¸é‡Œé¢çš„å•è¯ç»„æˆï¼Œ
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬æ— æ³•å»ºç«‹ dp[i] å’Œ dp[i - 1] çš„å…³ç³»ï¼Œ
æˆ‘ä»¬å¯ä»¥å»ºç«‹çš„æ˜¯ dp[i - word.length] å’Œ dp[i] çš„å…³ç³»ã€‚

æˆ‘ä»¬ç”¨å›¾æ¥æ„Ÿå—ä¸€ä¸‹ï¼š

![139.word-break-1](https://tva1.sinaimg.cn/large/007S8ZIlly1ghlu370c2hj30n60cnmy6.jpg)

æ²¡æœ‰æ˜ç™½ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬åˆ†æ­¥éª¤è§£è¯»ä¸€ä¸‹ï¼š

ï¼ˆä»¥ä¸‹çš„å›¾å·¦è¾¹éƒ½ä»£è¡¨ sï¼Œå³è¾¹éƒ½æ˜¯ dictï¼Œç°è‰²ä»£è¡¨æ²¡æœ‰å¤„ç†çš„å­—ç¬¦ï¼Œç»¿è‰²ä»£è¡¨åŒ¹é…æˆåŠŸï¼Œçº¢è‰²ä»£è¡¨åŒ¹é…å¤±è´¥ï¼‰

![139.word-break-2](https://tva1.sinaimg.cn/large/007S8ZIlly1ghlu37ydiwj30aw0b1mxc.jpg)

![139.word-break-3](https://tva1.sinaimg.cn/large/007S8ZIlly1ghlu3f3l6kj30bt0akdg0.jpg)

![139.word-break-4](https://tva1.sinaimg.cn/large/007S8ZIlly1ghlu3mmjmtj30mw09ymxp.jpg)

![139.word-break-5](https://tva1.sinaimg.cn/large/007S8ZIlly1ghlu3qr7ppj30n90kqabg.jpg)

ä¸Šé¢åˆ†æ­¥è§£é‡Šäº†ç®—æ³•çš„åŸºæœ¬è¿‡ç¨‹ï¼Œä¸‹é¢æˆ‘ä»¬æ„Ÿæ€§è®¤è¯†ä¸‹è¿™é“é¢˜ï¼Œæˆ‘æŠŠå®ƒæ¯”å–»ä¸º
ä½ æ­£åœ¨`å¾€ä¸€ä¸ªè€å¼æ‰‹ç”µç­’ğŸ”¦ä¸­è£…ç”µæ± `

![139.word-break-6](https://tva1.sinaimg.cn/large/007S8ZIlly1ghlu3rqvffj30mz0frwg3.jpg)

## ä»£ç 

ä»£ç æ”¯æŒï¼š JSï¼ŒCPP

JS Code:

```js
/**
 * @param {string} s
 * @param {string[]} wordDict
 * @return {boolean}
 */
var wordBreak = function (s, wordDict) {
  const dp = Array(s.length + 1);
  dp[0] = true;
  for (let i = 0; i < s.length + 1; i++) {
    for (let word of wordDict) {
      if (word.length <= i && dp[i - word.length]) {
        if (s.substring(i - word.length, i) === word) {
          dp[i] = true;
        }
      }
    }
  }

  return dp[s.length] || false;
};
```

CPP Code:

```cpp
class Solution {
public:
    bool wordBreak(string s, vector<string>& dict) {
        unordered_set<string> st(begin(dict), end(dict));
        int N = s.size();
        vector<bool> dp(N + 1);
        dp[0] = true;
        for (int i = 1; i <= N; ++i) {
            for (int j = 0; j < i && !dp[i]; ++j) {
                dp[i] = dp[j] && st.count(s.substr(j, i - j));
            }
        }
        return dp[N];
    }
};

```

**å¤æ‚åº¦åˆ†æ**

ä»¤ S å’Œ W åˆ†åˆ«ä¸ºå­—ç¬¦ä¸²å’Œå­—å…¸çš„é•¿åº¦ã€‚

- æ—¶é—´å¤æ‚åº¦ï¼š$O(S ^ 3)$
- ç©ºé—´å¤æ‚åº¦ï¼š$O(S + W)$

å¤§å®¶å¯¹æ­¤æœ‰ä½•çœ‹æ³•ï¼Œæ¬¢è¿ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘æœ‰æ—¶é—´éƒ½ä¼šä¸€ä¸€æŸ¥çœ‹å›ç­”ã€‚æ›´å¤šç®—æ³•å¥—è·¯å¯ä»¥è®¿é—®æˆ‘çš„ LeetCode é¢˜è§£ä»“åº“ï¼šhttps://github.com/azl397985856/leetcode ã€‚ ç›®å‰å·²ç» 37K star å•¦ã€‚
å¤§å®¶ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€ŠåŠ›æ‰£åŠ åŠ ã€‹å¸¦ä½ å•ƒä¸‹ç®—æ³•è¿™å—ç¡¬éª¨å¤´ã€‚
![](https://tva1.sinaimg.cn/large/007S8ZIlly1gfcuzagjalj30p00dwabs.jpg)
